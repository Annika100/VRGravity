<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
    <script src="javascript.js" type="text/javascript"></script>
    <title>Spaceship</title>
</head>
<body>

<a-scene>
    
    <!--Alle Objekte, Bilder und Sounds werden geladen-->
    <a-assets>
        <a-asset-item id="roomspacestation" src="objects/roomspacestation.dae"></a-asset-item>
        <a-asset-item id="feuerloescher" src="objects/feuerloescher.dae"></a-asset-item>
        <a-asset-item id="flasche" src="objects/flasche.dae"></a-asset-item>
        <a-asset-item id="bleistift" src="objects/bleistift.dae"></a-asset-item>
        <a-image id="img-exit" src="pictures/exit.png"></a-image>
        <audio id="sirene" src="sounds/sirene_leave.mp3" preload="auto"></audio>
    </a-assets>


    <!-- Skybox wird eingebunden-->
    <a-sky color="white"></a-sky>

    <!-- Kamera -->
    <a-entity id="kamera"
              position ="21.9 4 -0.116"
              rotation ="0 90 0"
              camera look-controls wasd-controls>
        <a-cursor></a-cursor>

        <!-- Kamera Animation -->
        <a-animation begin="cameraPos1"
                     attribute="position"
                     from="21.9 4 -0.116"
                     to="17 4 -0.116"
                     dur="10000">
        </a-animation>
        <a-animation begin="cameraPos2"
                     attribute="position"
                     from="17 4 -0.116"
                     to="12 4 -0.116"
                     dur="10000">
        </a-animation>
        <a-animation begin="cameraPos3"
                     attribute="position"
                     from="12 4 -0.116"
                     to="7 4 -0.116"
                     dur="10000">
        </a-animation>
        <a-animation begin="cameraPos4"
                     attribute="position"
                     from="7 4 -0.116"
                     to="2 4 -0.116"
                     dur="10000">
        </a-animation>
        <a-animation begin="cameraPos5"
                     attribute="position"
                     from="2 4 -0.116"
                     to="-3 4 -0.116"
                     dur="10000">
        </a-animation>
        <a-animation begin="cameraPos6"
                     attribute="position"
                     from="-3 4 -0.116"
                     to="-8 4 -0.116"
                     dur="10000">
        </a-animation>
        <a-animation begin="cameraPos7"
                     attribute="position"
                     from="-8 4 -0.116"
                     to="-13 4 -0.116"
                     dur="10000">
        </a-animation>

    </a-entity>

    <!-- Bild für Szenenwechsel wird eingebunden-->
    <a-image src="#img-exit" position="-21.5 4.7 -0.14" rotation="0 90 0" scale="2 2 2" visible="true">
        <a-animation attribute="visible"
                     delay="300"
                     dur="800"
                     from="true"
                     to="false"
                     repeat="indefinite">
        </a-animation>
    </a-image>


    <!-- Transblock für Szenenwechsel -->
    <a-image src="#img-exit" link="href: capsule.html" position="-19 4.7 -0.14" rotation="0 90 0" scale="2 2 2" visible="false"></a-image>

    <!-- Licht -->
    <!-- Licht hinten -->
    <a-light light="type: point; color: #fff; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="21.257 4.15 0.046"
             rotation="9.17 0.57 -2.86"
             decay=" 1.00"
             distance="0.00">
    </a-light>
    <a-light light="type: point; color: #fff; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="18.5 4.15 0.046"
             rotation="9.17 0.57 -2.86"
             decay=" 1.00"
             distance="0.00">
    </a-light>

    <!-- Licht vorne -->
    <a-light light="type: point; color: #fff; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="-27 4.15 0.046"
             rotation="9.17 90 -2.86"
             decay=" 1.00"
             distance="0.00"
             intensity="0.1">
    </a-light>


    <!-- rotes Alarmlicht -->
    <a-light light="type: point; color: red; intensity: 0.5; penumbra: 0.10; angle: 60.00"
             position="15 7.5 0"
             rotation="0 0 0"
             decay=" 1.00"
             distance="0.00"
             intensity="0.1"
             visible="false">
        <a-animation attribute="visible" delay="1000" dur="1000" from="true" to="false" repeat="indefinite"> </a-animation>
    </a-light>


    <!-- Sound wird eingebunden -->
    <a-entity sound="src:#sirene; autoplay: true"></a-entity>


    <!--Spacestation ROOM wird eingebunden-->
    <a-entity collada-model="#roomspacestation"  position="0 0 0" rotation="0 0 0" scale="0.1 0.1 0.1">
    </a-entity>


    <!--Feuerloescher wird eingebunden und animiert-->
    <a-entity collada-model="#feuerloescher" position="16.5 3.6 1" rotation="10 90 -15" scale="0.2 0.2 0.2" >
        <a-animation attribute="position"
                     dur="2000"
                     from="16.5 3.6 1"
                     to="16.5 4.1 1"
                     direction="alternate"
                     repeat="indefinite">
        </a-animation>
        <!-- <a-animation attribute="rotation"
                      dur="10000"
                      fill="forwards"
                      to="360 0 0"
                      repeat="indefinite">
         </a-animation> -->
    </a-entity>

    <!--Flasche wird eingebunden und animiert-->
    <a-entity collada-model="#flasche" position="-15.187 3.686 -1.5" scale="0.2 0.2 0.2">
        <!-- Animation Flasche fliegt nach vorne-->
        <a-animation attribute="position"
                     dur="6000"
                     from="-15 3.686 -1.5"
                     to="20 3.686 -1.5"
                     direction="alternate"
                     repeat="indefinite">
        </a-animation>
        <a-animation attribute="rotation"
                     dur="7000"
                     fill="forwards"
                     to="360 360 0"
                     repeat="indefinite">
        </a-animation>
    </a-entity>


    <!--Bleistift wird eingebunden und animiert-->
    <a-entity collada-model="#bleistift" position="-7 3.6 1" scale="0.2 0.2 0.2">
        <a-animation attribute="position"
                     dur="5000"
                     from="-7 2.5 1"
                     to="-7 5.5 1"
                     direction="alternate"
                     repeat="indefinite">
        </a-animation>
        <a-animation attribute="rotation"
                     dur="7000"
                     fill="forwards"
                     to="360 360 0"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!--Kugelschreiber wird eingebunden und animiert
    <a-assets>
        <a-asset-item id="kugelschreiber" src="kugelschreiber.dae"></a-asset-item>
    </a-assets>
    <a-entity collada-model="#kugelschreiber" position="-15.187 3.686 -0.576" scale="0.2 0.2 0.2">
    </a-entity>
    -->

    <!-- Wegweiser Pfeile werden eingebunden und animiert -->
    <!-- Pfeil 1 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="16.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos1">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="15.88 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 2 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="11.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos2">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="10.88 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 3 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="6.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos3">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="5.88 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 4 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="1.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos4">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="0.88 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 5 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="-4.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos5">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="-5.1 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 6 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="-9.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos6">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="-10.12 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>

    <!-- Pfeil 7 -->
    <a-entity geometry="primitive: plane; height: 1; width: 0.5" position="-14.5 1.596 -0.08" rotation="270 90 0" material="color : red" event-animate="target:#kamera; aevent:cameraPos7">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>
    <a-entity geometry="primitive: plane; height: 0.5; width: 0.5" position="-15.12 1.6 -0.08" rotation="270 90 45" scale="1.1 1.1 1.1" material="color: red">
        <a-animation attribute="material.color"
                     from="red"
                     to="white"
                     dur="1000"
                     repeat="indefinite">
        </a-animation>
    </a-entity>


</a-scene>

</body>
</html>
